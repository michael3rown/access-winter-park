(function($){$(function(){$('.select-row').change(function(e){$(e.target).parents('tr').find('input[type=checkbox].select-rule').attr('checked',e.target.checked);});var _check_disable_first_checkbox=function(el){var enabled=0,$this=$(el),$row_checkbox=$this.parents('tr').find('input[type=checkbox].select-row');$this.parents('td').find('input[type=checkbox].select-rule').each(function(index,ele){if(ele.checked){enabled++;}});if(enabled===0){$row_checkbox.attr({disabled:false});}
else if(enabled>=1){$row_checkbox.attr({checked:true,disabled:true});}};$('input[type=checkbox].select-rule').change(function(e){_check_disable_first_checkbox(e.target);});$('input.select-rule').each(function(i,v){_check_disable_first_checkbox(this);});$('form#edit-permissions').on('submit',function(e){$('input[type=checkbox]').each(function(){if(this.disabled===true){this.disabled=false;}})});});})(jQuery);
